---
title: "Multiple destinations"
description: "Move money from a single source to multiple destinations."
"og:title": "Multiple Destinations  â€¢ Blnk Developer Documentation"
"og:description": "Move money from a single source to a multiple destinations in your Blnk Ledger."
---

import NeedHelp from "/snippets/need-help.mdx";

<Info>Available in version 0.6.0 and later.</Info>

## Overview

Blnk allows you to move money from a single source to multiple destinations in one transaction. This provides enhanced flexibility for complex money flows and makes tracking and reconciliation easier.

<Card title="Multiple sources" href="multiple-sources" icon="arrows-minimize">
  Move money from multiple sources to a single destination in one transaction.
</Card>

---

## What you'll learn

1. [How to send to multiple destinations](#example-scenario)
2. [Distribution types available](#distribution-types)
3. [How transaction references work](#transaction-references)

---

## Example scenario

A customer sends USD 30,000 to three destinations. Here's how the transaction is structured:

<Frame caption="Multiple destinations transaction flow">
	<img src="/images/multiple-destinations.png" />
</Frame>

| | Balance ID | Amount |
| :--- | :--- | :--- |
| Alice | bln_f2073f6b-905a-4e3e-b5a2-8d1b3dc2fb7f | 20% (USD 6,000) |
| Bob | bln_64c50fb5-32d5-4f78-9f4a-e8b01aaf025d | USD 10,000 |
| Charlie | bln_7d98dfe9-5c3e-4c9b-b96a-65f6d9f7b89b | Remaining amount (USD 14,000) |
| **Sarah (Sender)** | bln_92e4b9b6-0b85-4ef4-87a2-682c31500d38 | **Total: USD 30,000** |

<Warning>
    When sending to multiple destinations, you can only send from one source.
</Warning>

---

## Create multiple destinations transaction

Call the [Create Transaction](/reference/create-transaction) endpoint with these fields:

```bash cURL
curl -X POST http://localhost:5001/transactions \
  -H "Content-Type: application/json" \
  -H "X-Blnk-Key: YOUR_API_KEY" \
  -d '{
    "amount": 30000,
    "precision": 100,
    "reference": "ref_001adcfgf",
    "currency": "USD",
    "source": "bln_92e4b9b6-0b85-4ef4-87a2-682c31500d38",
    "destinations": [
        {
            "identifier": "bln_f2073f6b-905a-4e3e-b5a2-8d1b3dc2fb7f",
            "distribution": "20%"
        },
        {
            "identifier": "bln_64c50fb5-32d5-4f78-9f4a-e8b01aaf025d",
            "distribution": "10000"
        },
        {
            "identifier": "bln_7d98dfe9-5c3e-4c9b-b96a-65f6d9f7b89b",
            "distribution": "left"
        }
    ],
    "description": "Payment from Sarah"
  }'
```

| Field | Description | Required | Type |
| :--- | :--- | :--- | :--- |
| `amount` | Total amount to be sent | Yes | `float` |
| `precision` | Converts amount to lowest unit. See [Understanding precision](/transactions/precision) | No | `int64` |
| `reference` | Unique transaction reference | Yes | `string` |
| `currency` | Asset class code. | Yes | `string` |
| `source` | Sender's balance ID | Yes | `string` |
| `destinations` | Array of destination objects with `identifier` and `distribution` fields | Yes | `array` |
| `destinations.identifier` | Balance ID of the destination account | Yes | `string` |
| `destinations.distribution` | Amount to send to this destination (specific amount, percentage, or "left") | Yes | `string` |
| `meta_data` | Custom transaction data | No | `object` |

<Warning>
    When sending to multiple destinations, do not include the `destination` field in your payload. Use the `destinations` array to group the participating balances in your payload.
</Warning>

---

## API response structure

When you create a multiple destinations transaction, Blnk creates separate transaction records for each destination.

Blnk returns a response containing:
- A **main transaction ID** for the overall split transaction. If `inflight: true`, it can be used to commit or void all transactions at once.
- A **destinations array** with individual transaction IDs for each destination.

```json Response {7,23,28,33}
{
    "precise_amount": 3000000,
    "amount": 30000,
    "rate": 1,
    "precision": 100,
    "overdraft_limit": 0,
    "transaction_id": "txn_0b59f6e-6c4a-4efa-915c-526f77ef61ab",
    "parent_transaction": "",
    "source": "bln_92e4b9b6-0b85-4ef4-87a2-682c31500d38",
    "reference": "ref_001adcfgf",
    "currency": "USD",
    "description": "Payment from Sarah",
    "status": "QUEUED",
    "hash": "8cfdc0f2562ce30c3728ef624dc29fbd0e4207c77df9220df0c699d45de0eef",
    "allow_overdraft": true,
    "inflight": false,
    "skip_queue": false,
    "atomic": false,
    "destinations": [
        {
            "identifier": "bln_f2073f6b-905a-4e3e-b5a2-8d1b3dc2fb7f",
            "distribution": "20%",
            "transaction_id": "txn_59347177-aa7e-d8ad-9f4f-d09628b32ec3"
        },
        {
            "identifier": "bln_64c50fb5-32d5-4f78-9f4a-e8b01aaf025d",
            "distribution": "10000",
            "transaction_id": "txn_7ddc8d4f-3b77-4b7d-a37f-240216ab074c"
        },
        {
            "identifier": "bln_7d98dfe9-5c3e-4c9b-b96a-65f6d9f7b89b",
            "distribution": "left",
            "transaction_id": "txn_5aad04dd-ed53-4f77-9f01-4916d31fac5f"
        }
    ],
    "created_at": "2025-09-18T01:26:30.648049042Z",
    "scheduled_for": "0001-01-01T00:00:00Z",
    "inflight_expiry_date": "0001-01-01T00:00:00Z",
    "meta_data": {
        "QUEUED_PARENT_TRANSACTION": "txn_0b59f6e-6c4a-4efa-915c-526f77ef61ab"
    }
}
```

### Retrieving child transactions

You can retrieve all transactions in the split by searching for the main transaction ID in the `meta_data.QUEUED_PARENT_TRANSACTION` field:

```bash cURL
curl -X POST "http://localhost:5001/search/transactions" \
  -H "X-Blnk-Key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "q": "txn_0b59f6e-6c4a-4efa-915c-526f77ef61ab",
    "query_by": "meta_data.QUEUED_PARENT_TRANSACTION"
  }'
```

This will return all individual transactions that were created as part of the multiple destinations transaction, allowing you to track and manage the complete set of related transactions.

---

## Distribution types

You can specify distribution amounts in three ways:

| Type | Description | Example |
| :--- | :--- | :--- |
| **Specific amount** | Fixed amount to send | `"distribution": "10000"` |
| **Percentage** | Percentage of total amount | `"distribution": "20%"` |
| **Remaining** | Leftover amount after other distributions | `"distribution": "left"` |

<Warning>
You can only use `"left"` once per transaction, and all distributions must sum to the total amount.
</Warning>

### Using `precise_distribution` with `precise_amount`

When using `precise_amount` instead of `amount` in your transaction, use `precise_distribution` for **precise amounts only** in your `destinations` array. 

For float amount, percentage, and "left", use `distribution`. You can mix `precise_distribution` and `distribution` within the same transaction.

```json Example with precise_amount {10} wrap
{
  "precise_amount": 189207535698279000,
  "precision": 1000000000000000000,
  "reference": "ref_abc123",
  "currency": "ETH",
  "source": "bln_28edb3e5-c168-4127-a1c4-16274e7a28d3",
  "destinations": [
    {
      "identifier": "bln_f2073f6b-905a-4e3e-b5a2-8d1b3dc2fb7f",
      "precise_distribution": "37841507139655800"
    },
    {
      "identifier": "bln_64c50fb5-32d5-4f78-9f4a-e8b01aaf025d",
      "distribution": "20%"
    },
    {
      "identifier": "bln_7d98dfe9-5c3e-4c9b-b96a-65f6d9f7b89b",
      "distribution": "left"
    }
  ],
  "description": "ETH distribution"
}
```

| Field | Use when | Example |
| :--- | :--- | :--- |
| `precise_distribution` | Specifying a fixed precise amount (when using `precise_amount`) | `"precise_distribution": "37841507139655800"` |
| `distribution` | Specifying a float amount, percentage, or "left" | `"distribution": "100.45"`, `"distribution": "20%"`, or `"distribution": "left"` |

<Tip>
For more information about precision and `precise_amount`, see [Transaction precision](/transactions/precision).
</Tip>

---

## Transaction references

Blnk automatically generates unique references for each transaction record by appending a counter to your original reference (starting from `1`).

**Example:** If your reference is `ref_001adcfgf`, the generated references will be:
- `ref_001adcfgf1` (first destination)
- `ref_001adcfgf2` (second destination) 
- `ref_001adcfgf3` (third destination)

This ensures traceability while maintaining connection to the original transaction.

---

<NeedHelp />